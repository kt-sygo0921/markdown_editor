{"version":3,"sources":["webpack:///webpack/bootstrap 4696cc7af3ecd6f0bf42?2067","webpack:///external \"electron\"?6928","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///./src/main/index.js","webpack:///./src/main/createMainWindow.js","webpack:///./src/main/fileManager.js","webpack:///./src/main/setAppMenu.js","webpack:///./src/main/showOpenFileDialog.js","webpack:///./src/main/showSaveAsNewFileDialog.js"],"names":["openFile","filePath","text","fileManager","readFile","mainWindow","sendText","catch","err","console","log","saveFile","saveAsNewFile","requestText","then","overwriteFile","Promise","all","exportPDF","on","process","platform","quit","_e","hasVisibleWindows","main","window","width","height","loadURL","__dirname","webContents","send","resolve","once","createMainWindow","hoge","bbb","FileManager","writeFileSync","readFileSync","createFileManager","setAppMenu","options","templete","label","submenu","accelerator","click","role","getFocusedWindow","toggleDevTools","unshift","setApplicationMenu","buildFromTemplate","showOpenFileDialog","reject","files","showOpenDialog","title","properties","filters","name","extensions","length","showSaveAsNewFileDialog","file","showSaveDialog"],"mappings":"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","file":"dist/main/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 196);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4696cc7af3ecd6f0bf42","module.exports = require(\"electron\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"electron\"\n// module id = 13\n// module chunks = 0 1","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 194\n// module chunks = 1","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 195\n// module chunks = 1","import {app} from 'electron';\nimport createMainWindow from './createMainWindow';\nimport setAppMenu from './setAppMenu';\n\n//開く\nimport showOpenFileDialog from './showOpenFileDialog';\n//名前をつけて保存\nimport showSaveAsNewFileDialog from './showSaveAsNewFileDialog';\n\n\nimport createFileManager from './fileManager';\n\n\n// function openFile() {\n//     showOpenFileDialog()\n//     .then((filePath)=>{fileManager.readFile(filePath)})\n//     .then((text)=>{mainWindow.sendText(text)})\n//     .catch((err)=>{\n//         console.log(err);\n//     })\n// }\n\nasync function openFile() {\n    //Promiseで書くと、パスの取得とテキストの取得が同時に発火するためテキストが取得できない\n    const filePath = await showOpenFileDialog();\n    const text = await fileManager.readFile(filePath);\n    await mainWindow.sendText(text)\n    .catch((err)=>{\n        console.log(err);\n    })\n}\n\nfunction saveFile() {\n    if(!fileManager.filePath) {\n        saveAsNewFile();\n        return;\n    }\n    mainWindow.requestText()\n    .then((text)=>fileManager.overwriteFile(text))\n    .catch((err) => {\n        console.log(err)\n    })\n}\n\nfunction saveAsNewFile() {\n    Promise.all([showSaveAsNewFileDialog(),mainWindow.requestText()])\n    .then(([filePath, text])=>fileManager.saveFile(filePath,text))\n    .catch((err) =>{\n        console.log(err);\n    })\n}\n\nfunction exportPDF() {\n    console.log('exportPDF');\n}\n\n\nlet mainWindow = null;\nlet fileManager = null;\n\napp.on('ready',()=> {\n    mainWindow = createMainWindow();\n    fileManager = createFileManager();\n    setAppMenu({openFile,saveFile,saveAsNewFile,exportPDF});\n});\n\napp.on('window-all-closed',()=> {\n    if(process.platform !== 'darwin') {\n        app.quit();\n    }\n});\n\napp.on('activate',(_e,hasVisibleWindows)=>{\n    if(!hasVisibleWindows) {\n        main.mainWindow = createMainWindow();\n    }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/main/index.js","import {BrowserWindow,ipcMain} from 'electron';\nimport { resolve } from 'path';\n\nclass mainWindow {\n    constructor() {\n        this.window = new BrowserWindow({width: 800,height: 600});\n        this.window.loadURL(`file://${__dirname}/../../index.html`);\n        this.window.on('closed',()=> {\n            this.window = null;\n        });\n    }\n    sendText(text) {\n        this.window.webContents.send('SEND_TEXT', text);\n    }\n    requestText() {\n        return new Promise((resolve)=>{\n            this.window.webContents.send(\"REQUEST_TEXT\");\n            ipcMain.once(\"REPLY_TEXT\",(_e,text)=>{\n                resolve(text);\n            })\n        })\n    }\n}\n\nfunction createMainWindow() {\n    return new mainWindow();\n}\n\nexport default createMainWindow;\n\nclass hoge {\n    constructor(){}\n    aaa(bbb) {\n        console.log(bbb);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/main/createMainWindow.js","import fs from 'fs';\n\nclass FileManager {\n    constructor() {\n        this.filePath = '';\n    }\n    saveFile(filePath,text) {\n        return new Promise((resolve)=>{\n            fs.writeFileSync(filePath,text);\n            this.filePath = filePath;\n            resolve();\n        });\n    }\n    readFile(filePath) {\n        return new Promise((resolve)=>{\n            const text = fs.readFileSync(filePath, 'utf8');\n            this.filePath = filePath;\n            resolve(text);\n        })\n    }\n    overwriteFile(text) {\n        return this.saveFile(this.filePath,text);\n    }\n}\n\nfunction createFileManager() {\n    return new FileManager();\n}\n\nexport default createFileManager;\n\n\n// WEBPACK FOOTER //\n// ./src/main/fileManager.js","import {app,Menu,BrowserWindow} from 'electron';\n\nfunction setAppMenu(options) {\n    const templete = [\n        {\n            label:'File',\n            submenu:[\n                {\n                    label: 'Open',accelerator:'CmdOrCtrl+O',click:()=>options.openFile()\n                },\n                {\n                    label: 'Save',accelerator:'CmdOrCtrl+S',click:()=>options.saveFile()\n                },\n                {\n                    label: 'Save as...', click:()=>options.saveAsNewFile()\n                },\n                {\n                    label: 'Export PDF', click:()=>options.exportPDF()\n                }\n            ]\n        },\n        {\n            label:'Edit',\n            submenu: [\n                {\n                    label: 'Copy',accelerator: 'CmdOrCtrl+C', role:'copy'\n                },\n                {\n                    label: 'Paste', accelerator: 'CmdOrCtrl+V',role:'paste'\n                },\n                {\n                    label: 'Cut',accelerator: 'CmdOrCtrl+X',role:'cut'\n                },\n                {\n                    label: 'SelectAll', accelerator: 'CmdOrCtrl+A', role:'selectall'\n                }\n            ]\n        },\n        {\n            label: 'View',\n            submenu: [\n                {\n                    label: 'Toggle Devtools',\n                    accelerator: 'Alt+Command+I',\n                    click:() => BrowserWindow.getFocusedWindow().toggleDevTools()\n                }\n            ]\n        }\n    ];\n    if(process.platform === 'darwin') {\n        templete.unshift(\n            {\n                label: 'MarkDownEditor',\n                submenu: [\n                    {\n                        label: 'Quit', accelerator: 'CmdOrCtrl+Q', click:()=>app.quit()\n                    }\n                ]\n            }\n        );\n    }\n    Menu.setApplicationMenu(Menu.buildFromTemplate(templete));\n}\n\nexport default setAppMenu;\n\n\n// WEBPACK FOOTER //\n// ./src/main/setAppMenu.js","import {dialog} from 'electron';\n\nfunction showOpenFileDialog() {\n    return new Promise((resolve,reject) =>{\n        const files = dialog.showOpenDialog(\n            {\n                title:'open',\n                properties: ['openFile'],\n                filters: [\n                    {name: 'markdown file',extensions: ['md']}\n                ]\n            }\n        )\n        if(files&& files.length > 0) {\n            resolve(files[0]);\n        } else {\n            reject();\n        }\n    })\n}\n\nexport default showOpenFileDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/main/showOpenFileDialog.js","import {dialog} from 'electron';\n\nfunction showSaveAsNewFileDialog() {\n    return new Promise((resolve,reject) => {\n        const file = dialog.showSaveDialog (\n            {\n                title:'save',\n                filters:[{name: 'markdown file', extensions: ['md']}]\n            }\n        )\n        if(file) {\n            resolve(file);\n        } else {\n            reject();\n        }\n    });\n}\nexport default showSaveAsNewFileDialog;\n\n\n// WEBPACK FOOTER //\n// ./src/main/showSaveAsNewFileDialog.js"],"sourceRoot":""}